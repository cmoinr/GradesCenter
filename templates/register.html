{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <form action="/register" method="post">
        <div class="mb-3">
            <select class="form-select mx-auto w-auto" id="role" name="i_am">
                <option disabled="" selected="">I am...</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>   
            </select>
        </div>
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" name="id" maxlength="8" placeholder="ID" type="text" pattern="[0-9]{8}">
        </div>
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" name="names" placeholder="Names" type="text">
        </div>
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" name="surnames" placeholder="Surnames" type="text">
        </div>

        <div class="mb-3" id="studentFields" style="display: none;">
            <select class="form-select mx-auto w-auto" name="faculty">
                <option disabled="" selected="">Faculty</option>
                <option value="SE70">Systems Engineering</option>
                <option value="ME02">Medicine</option>
                <option value="EC03">Economics</option>
                <option value="DE04">Dentistry</option>
                <option value="AG05">Agronomy</option>
                <option value="SC06">Social Communication</option>
                <option value="PO90">Politics</option>
            </select>
        </div>

        <div class="mb-3" id="teacherFields" style="display: none;">
            <input class="form-control mx-auto w-auto" name="unique_code" placeholder="Unique code" type="password">
        </div>

        <div class="mb-3">
            <input class="form-control mx-auto w-auto" name="password" placeholder="Password" type="password">
        </div>
        <div class="mb-3">
            <input class="form-control mx-auto w-auto" name="confirmation" placeholder="Confirm password" type="password">
        </div>

        <button class="btn btn-primary" type="submit">Register</button>
    </form>

    <script>
        const roleSelect = document.getElementById('role');
        const studentFields = document.getElementById('studentFields');
        const teacherFields = document.getElementById('teacherFields');

        roleSelect.addEventListener('change', () => {
        if (roleSelect.value === 'student') {
            studentFields.style.display = 'block';
            teacherFields.style.display = 'none';
        } else {
            studentFields.style.display = 'none';
            teacherFields.style.display = 'block';
        }
        });
    </script>
{% endblock %}
